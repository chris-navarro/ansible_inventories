---

- name: Get Device Facts
  hosts: rsiteA-t2b01-vmx-junos
  connection: local
  gather_facts: no
  
  vars:
    user: cn02945
    passwd: "ebn10388**"
    mode: "telnet"
    port: "32777"

  tasks:
    - name: "Configure Display LOGIN Message"
      juniper.device.config:
        config_mode: "private"
        load: "set"
        lines:
          - set system login message "THIS IS A PRIVATE NETWORK, UNAUTHORIZED USERS KEEP OUT!!! YOU WILL BE PERSUCUTED TO FULL EXTENT OF THE LAW!!!"
      register: response
    
    - name: "Print the config changes"
      debug:
        var: response.diff_lines

    - name: Retrieve facts from devices running Junos OS
      juniper.device.facts:  
        savedir: "tftp://192.168.0.9/tftpboot"

    - name: Print version
      debug:
        var: junos.version
...
